<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Jeu de Sym√©trie</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background: #f0f0f0;
    }

    h1 {
      margin: 20px;
    }

    .game-container {
      display: flex;
      justify-content: center;
      margin-top: 40px;
    }

    .zone {
      width: 200px;
      height: 300px;
      margin: 0 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: white;
      border: 2px solid #ccc;
      border-radius: 10px;
    }

    .element {
      width: 60px;
      height: 60px;
      margin: 10px;
      border: 2px solid black;
      border-radius: 10px;
      cursor: default;
    }

    .button {
      width: 60px;
      height: 60px;
      margin: 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .score {
      margin-top: 30px;
      font-size: 18px;
    }

    .highlight {
      outline: 4px solid gold;
    }
  </style>
</head>
<body>
  <h1>üéØ Jeu de Sym√©trie</h1>

  <div class="game-container">
    <div class="zone" id="left-zone">
      <!-- √âl√©ment cible -->
    </div>
    <div class="zone" id="right-zone">
      <!-- Boutons de r√©ponse -->
    </div>
  </div>

  <div class="score">
    Score : <span id="score">0</span> | Meilleur score : <span id="best-score">0</span>
  </div>

  <script>
    const shapes = ['square', 'circle', 'triangle'];
    const colors = ['red', 'blue', 'green', 'orange'];

    let currentTarget = null;
    let score = 0;
    let bestScore = localStorage.getItem('bestScore') || 0;

    const leftZone = document.getElementById('left-zone');
    const rightZone = document.getElementById('right-zone');
    const scoreDisplay = document.getElementById('score');
    const bestScoreDisplay = document.getElementById('best-score');
    bestScoreDisplay.textContent = bestScore;

    function getRandomItem(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function createShapeElement(shape, color) {
      const el = document.createElement('div');
      el.classList.add('element', shape);
      el.style.backgroundColor = color;

      if (shape === 'circle') {
        el.style.borderRadius = '50%';
      } else if (shape === 'triangle') {
        el.style.width = 0;
        el.style.height = 0;
        el.style.border = 'none';
        el.style.backgroundColor = 'transparent';
        el.style.borderLeft = '30px solid transparent';
        el.style.borderRight = '30px solid transparent';
        el.style.borderBottom = `60px solid ${color}`;
      }

      return el;
    }

    function createButton(shape, color) {
      const btn = document.createElement('button');
      btn.classList.add('button', shape);
      btn.style.backgroundColor = color;

      if (shape === 'circle') {
        btn.style.borderRadius = '50%';
      } else if (shape === 'triangle') {
        btn.style.width = 0;
        btn.style.height = 0;
        btn.style.border = 'none';
        btn.style.backgroundColor = 'transparent';
        btn.style.borderLeft = '30px solid transparent';
        btn.style.borderRight = '30px solid transparent';
        btn.style.borderBottom = `60px solid ${color}`;
      }

      btn.addEventListener('click', () => {
        if (shape === currentTarget.shape && color === currentTarget.color) {
          score++;
          if (score > bestScore) {
            bestScore = score;
            localStorage.setItem('bestScore', bestScore);
            bestScoreDisplay.textContent = bestScore;
          }
        } else {
          score = 0;
        }
        scoreDisplay.textContent = score;
        nextRound();
      });

      return btn;
    }

    function nextRound() {
      leftZone.innerHTML = '';
      rightZone.innerHTML = '';

      const targetShape = getRandomItem(shapes);
      const targetColor = getRandomItem(colors);
      currentTarget = { shape: targetShape, color: targetColor };

      const targetElement = createShapeElement(targetShape, targetColor);
      targetElement.classList.add('highlight');
      leftZone.appendChild(targetElement);

      const buttonsData = [];
      // On ajoute la bonne r√©ponse
      buttonsData.push(currentTarget);
      // On ajoute 2 mauvaises r√©ponses al√©atoires
      while (buttonsData.length < 3) {
        const shape = getRandomItem(shapes);
        const color = getRandomItem(colors);
        if (!buttonsData.some(btn => btn.shape === shape && btn.color === color)) {
          buttonsData.push({ shape, color });
        }
      }

      // M√©lange des boutons
      buttonsData.sort(() => Math.random() - 0.5);

      // Cr√©ation des boutons
      buttonsData.forEach(btnData => {
        const btn = createButton(btnData.shape, btnData.color);
        rightZone.appendChild(btn);
      });
    }

    // Lancer le premier tour
    nextRound();
  </script>
</body>
</html>
